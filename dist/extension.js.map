{
  "version": 3,
  "sources": ["../src/extension.js"],
  "sourcesContent": ["\"use strict\";\n\n// loader-code: wait until gmailjs has finished loading, before triggering actual extensiode-code.\nconst loaderId = setInterval(() => {\n    if (!window._gmailjs) {\n        return;\n    }\n\n    clearInterval(loaderId);\n    startExtension(window._gmailjs);\n}, 100);\n\n// actual extension-code\nfunction startExtension(gmail) {\n    console.log(\"Extension loading...\");\n    window.gmail = gmail;\n\n    gmail.observe.on(\"load\", () => {\n        const userEmail = gmail.get.user_email();\n        console.log(\"Hello, \" + userEmail + \". This is your extension talking!\");\n\n        gmail.observe.on(\"view_email\", onViewEmail);\n\n        gmail.observe.on(\"compose\", (compose) => {\n            console.log(\"New compose window is opened!\", compose);\n        });\n    });\n}\n\nfunction onViewEmail(domEmail){\n    console.log(\"Looking at email:\", domEmail);\n    const emailData = gmail.new.get.email_data(domEmail);\n    console.log(\"Email data:\", emailData.email_content);\n\n    const emailRec = getEmail(\"ABC\")\n    \n}\n\nfunction getEmail(email){\n    fetch(\"http://127.0.0.1:8000/respond\")\n    .then(response =>  response.json())\n    .then((data) => {\n      console.log(\"Data: \", data)\n    })\n    .catch((error) => {\n      console.error('Fetch Error:', error);\n  });\n}"],
  "mappings": ";;;AAGA,MAAM,WAAW,YAAY,MAAM;AAC/B,QAAI,CAAC,OAAO,UAAU;AAClB;AAAA,IACJ;AAEA,kBAAc,QAAQ;AACtB,mBAAe,OAAO,QAAQ;AAAA,EAClC,GAAG,GAAG;AAGN,WAAS,eAAeA,QAAO;AAC3B,YAAQ,IAAI,sBAAsB;AAClC,WAAO,QAAQA;AAEf,IAAAA,OAAM,QAAQ,GAAG,QAAQ,MAAM;AAC3B,YAAM,YAAYA,OAAM,IAAI,WAAW;AACvC,cAAQ,IAAI,YAAY,YAAY,mCAAmC;AAEvE,MAAAA,OAAM,QAAQ,GAAG,cAAc,WAAW;AAE1C,MAAAA,OAAM,QAAQ,GAAG,WAAW,CAAC,YAAY;AACrC,gBAAQ,IAAI,iCAAiC,OAAO;AAAA,MACxD,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AAEA,WAAS,YAAY,UAAS;AAC1B,YAAQ,IAAI,qBAAqB,QAAQ;AACzC,UAAM,YAAY,MAAM,IAAI,IAAI,WAAW,QAAQ;AACnD,YAAQ,IAAI,eAAe,UAAU,aAAa;AAElD,UAAM,WAAW,SAAS,KAAK;AAAA,EAEnC;AAEA,WAAS,SAAS,OAAM;AACpB,UAAM,+BAA+B,EACpC,KAAK,cAAa,SAAS,KAAK,CAAC,EACjC,KAAK,CAAC,SAAS;AACd,cAAQ,IAAI,UAAU,IAAI;AAAA,IAC5B,CAAC,EACA,MAAM,CAAC,UAAU;AAChB,cAAQ,MAAM,gBAAgB,KAAK;AAAA,IACvC,CAAC;AAAA,EACH;",
  "names": ["gmail"]
}
